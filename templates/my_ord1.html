{% extends 'base.html' %}
{% block extra_head %}
<style type="text/css">
    .container-fluid {
        margin-top: 200px;
        width: 100%;
        padding: 20px;
        text-align: justify;
        box-sizing: border-box;
        font-size: 18px;
        line-height: 40px;
    }

    p {
        font-size: 14px;
        margin-bottom: 7px;
    }

    .small {
        letter-spacing: 0.5px !important;
    }

    .card-1 {
        box-shadow: 2px 2px 10px 0px #2b292b
    }

    hr {
        background-color: rgba(248, 248, 248, 0.667)
    }

    .bold {
        font-weight: 500
    }

    .change-color {
        color: #cf9d53 !important
    }

    .card-2 {
        box-shadow: 1px 1px 3px 0px rgb(112, 115, 139);
    }

    .fa-circle.active {
        font-size: 8px;
        color: #e3171a
    }

    .fa-circle {
        font-size: 8px;
        color: #aaa
    }

    .rounded {
        border-radius: 2.25rem !important
    }

    .progress-bar {
        background-color: #e3171a !important
    }

    .progress {
        height: 5px !important;
        margin-bottom: 0
    }
</style>
{% endblock %}
{% block content %}


<div class="container-fluid my-5 d-flex justify-content-center">
    <div class="card card-1">
        <div class="card-header bg-white">
            <div class="media flex-sm-row flex-column-reverse justify-content-between">
                <div class="col my-auto">
                    <h4 class="mb-3 mt-3">Thanks for your order, <span class="change-color">{{user.first_name}}</span>
                    </h4>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="row justify-content-between mb-3">
                <div class="col-auto">
                    <h6 class="color-1 mb-0 ml-2 change-color">Receipt</h6>
                </div>
                <div class="col-auto"><small></small></div>
            </div>

            <form method="POST" action="{% url 'book:cancel-order' %}">
                {% csrf_token %} {% for pro, od in mylist %}

                <div class="row mb-4">
                    <div class="col cd_col">
                        <div class="card card-2">
                            <div class="card-body">
                                <div class="media">
                                    <div class="sq align-self-center">
                                        <img class="img-fluid my-auto align-self-center mr-2 mr-md-4 pl-0 p-0 m-0 "
                                            src="{{pro.product.book_image1.url}}" alt="{{ pro.product.book_title }}"
                                            width="135" height="135">
                                    </div>
                                    <div class="media-body my-auto text-right">
                                        <div class="row my-auto flex-column flex-md-row">
                                            <div class="col my-auto">
                                                <h6 class="mb-0" id="ptitle" style="text-transform: capitalize;">{{pro.product.book_title }}</h6>
                                            </div>

                                            <div class="col my-auto" id="pqnt"><small>Qty:
                                                    {{ pro.product_quantity }}</small></div>
                                            <div class="col my-auto">
                                                <h6 class="mb-0" id="pprice">&#8377; {{ od.total_od_price }}</h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr class="my-3">
                                <div class="row">
                                    {% if od.refund_requested %}
                                    <div class="col-md-3 mb-3">
                                        <button class="btn btn-outline-success" type="submit" name="order_id"
                                            value="{{ od.order_id }}" disabled>
                                            Cancel order requested</button>
                                    </div>
                                    {% else %}
                                    <div class="col-md-3 mb-3">
                                        <button class="btn btn-outline-primary" type="submit" name="order_id"
                                            value="{{ od.order_id }}">
                                            Cancel order</button>
                                    </div>
                                    {% endif %}

                                    <div class="col mt-auto">
                                        <div class="progress my-auto">
                                            <div class="progress-bar progress-bar rounded" style="width:35%"
                                                role="progressbar" aria-valuenow="25" aria-valuemin="0"
                                                aria-valuemax="100"></div>
                                        </div>
                                        <div class="media row justify-content-between">
                                            <div class="col-auto text-left"><span><small
                                                        class="text-left mr-sm-2">Ordered</small>
                                                    <i class="fa fa-circle active"></i></span></div>
                                            <!-- <div class="flex-col"><span><small class="text-right mr-sm-2">out for
                                                            delievery</small>
                                                        <i class="fa fa-circle active"></i></span></div>-->
                                            <div class="col-auto flex-col-auto"><span><small
                                                        class="text-right mr-sm-2">Delivered</small>
                                                    <i class="fa fa-circle"></i></span></div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--This is for 2nd card means second product-->
                </div>
                <!-- endfor -->
                {% endfor %}
            </form>
        </div>
    </div>
</div>

{% endblock %}